/* user-purchase/2.0.0 paypwd.js Date:2016-10-11 09:13:48 */
var payPassword=$("#payPassword_container"),_this=payPassword.find("i"),k=0,j=0,password="",_cardwrap=$("#cardwrap");var resetPayFlag=!1;payPassword.delegate("input[name='payPassword_rsainput']","focus",function(){resetPayFlag&&(k=0,resetPayFlag=!1);var a=payPassword.find("i");"0"===payPassword.attr("data-busy")&&(a.eq(k).addClass("active"),_cardwrap.css("visibility","visible"),payPassword.attr("data-busy","1"))}),payPassword.delegate("input[name='payPassword_rsainput']","change",function(){resetPayFlag&&(k=0,resetPayFlag=!1),_cardwrap.css("visibility","hidden"),_this.eq(k).removeClass("active"),payPassword.attr("data-busy","0")}).delegate("input[name='payPassword_rsainput']","blur",function(){resetPayFlag&&(k=0,resetPayFlag=!1),_cardwrap.css("visibility","hidden"),_this.eq(k).removeClass("active"),payPassword.attr("data-busy","0")}),payPassword.delegate("input[name='payPassword_rsainput']","keyup",function(a){var a=a?a:window.event;if(8==a.keyCode||a.keyCode>=48&&a.keyCode<=57||a.keyCode>=96&&a.keyCode<=105)for(k=this.value.length,l=_this.size();l--;)l===k?(_this.eq(l).addClass("active"),_this.eq(l).find("b").css("visibility","hidden")):(_this.eq(l).removeClass("active"),_this.eq(l).find("b").css("visibility",k>l?"visible":"hidden")),j=6===k?5:k,$("#cardwrap").css("left",35*j+"px");else{var b=this.value;this.value=b.replace(/\D/g,"")}});function resetPaypassword(){$(".sixDigitPassword-box").find("i").remove(),$("#cardwrap").before("<i><b></b></i><i><b></b></i><i><b></b></i><i><b></b></i><i><b></b></i><i><b></b></i>"),_this=$(".sixDigitPassword-box").find("i"),$("#payPassword_rsainput").removeAttr("value"),$("#cardwrap").css("left","0px"),resetPayFlag=!0,delete seajs.cache["http://misc.360buyimg.com/user/purchase/2.0.0/js/paypwd.js"],delete seajs.cache["https://misc.360buyimg.com/user/purchase/2.0.0/js/paypwd.js"],seajs.use("//misc.360buyimg.com/user/purchase/2.0.0/js/paypwd.js")}
